<tool id="orthomclMapProteomeToGroups" name="OrthoMCL Map Proteome to Groups" version="1.0.0">
  <description>Use BLAST results to map a proteome to OrthoMCL groups.</description>
  <command interpreter="perl" detect_errors="aggressive">
    ../../bin/orthomclMapProteomeToGroupsGalaxy "$self_similarity_file" $similarity_file" "$groups_file" "TAXON"
  </command>
  <inputs>
    <param name="self_similarity_file" type="text" size="100" value=""
           label="Self-similarity file:"
           help="A BLAST result of the proteome against its self, in orthomcl similar sequences format">
      <validator type="empty_field" />
      <validator type="regex" message="Only letters, numbers, spaces and dashes are allowed in the name.">^[\w\d\s\-]*$</validator>
      <validator type="length" message="Please restrict the name to 100 characters or less." max="100" />
    </param>
    <param name="groups_similarity_file" type="text" size="100" value=""
           label="Orthomcl similarity file"
           help="A BLAST result of the proteome against OrthoMCL proteins, in orthomcl similar sequences format">
      <validator type="empty_field" />
      <validator type="regex" message="Only letters, numbers, spaces and dashes are allowed in the name.">^[\w\d\s\-]*$</validator>
      <validator type="length" message="Please restrict the name to 100 characters or less." max="100" />
    </param>
    <param name="groups_file" type="text" size="100" value=""
           label="OrthoMCL groups file"
           help="A file of proteins organized into OrthoMCL groups, in OrthoMCL Groups format">
      <validator type="empty_field" />
      <validator type="regex" message="Only letters, numbers, spaces and dashes are allowed in the name.">^[\w\d\s\-]*$</validator>
      <validator type="length" message="Please restrict the name to 100 characters or less." max="100" />
    </param>
  </inputs>
  <outputs>
      <data format="text" name="output" label="orthologGroups.txt" />
      <data format="text" name="output" label="paralogPairs.txt" />
  </outputs>

  <help>

**What it does**

Using self-similarity and similarity to OrthoMCL protiens, maps the input proteome to OrthoMCL groups.  Input proteins are mapped to the group containing the protein with highest similarity.  Proteins that have no significant similarity to OrthoMCL proteins are grouped as paralogs, using the OrthoMCL algorithm.

  </help>
</tool>
